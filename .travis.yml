language: python

python:
  - "2.7"
  - "3.4"
  - "3.5"
  - "3.6"
  - "3.7"

os:
  - linux
  - osx

matrix:
  include:
    - os: linux
      language: python
      sudo: false

    - os: osx
      osx_image: xcode8
      language: generic
      sudo: required



dist: xenial

sudo: false

addons:
  apt:
    packages:
    - ffmpeg

  homebrew:
    packages:
    - ffmpeg
    - libmagic

install:
  - python setup.py install
  - pip install -U pytest coverage pytest-cov codecov python-magic

script:
  - python setup.py test

after_success:
  - codecov

